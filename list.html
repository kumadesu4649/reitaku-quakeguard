<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>é˜²ç½ã‚°ãƒƒã‚ºãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            background: linear-gradient(135deg, #353535 100%, #f5f5f5 100%);
            margin: 0;
            padding: 0;
        }
        .site-title-bar {
            background: #3a3f47;
            color: #fff;
            display: flex;
            align-items: center;
            padding: 36px 0 26px 0; /* â†ç¸¦ã®paddingã‚’å¢—ã‚„ã—ã¦é«˜ã•ã‚’ã‚¢ãƒƒãƒ— */
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.13);
            position: relative;
            /* è¿½åŠ : å¹…ã‚’åºƒã’ã‚‹ */
            width: 100vw;
            min-width: 100vw;
            left: 50%;
            right: 50%;
            margin-left: -50vw;
            margin-right: -50vw;
        }
        .site-title-bar .site-title {
            flex: 1;
            text-align: center;
            font-size: 2em;
            letter-spacing: 0.1em;
            font-weight: bold;
            position: absolute;
            left: 0;
            right: 0;
            margin: auto;
            width: max-content;
            color: #fff;
        }
        header {
            background: #ffffffc9;
            color: #fff;
            padding: 1.5rem 1rem 1rem 1rem;
            text-align: center;
            border-bottom-left-radius: 24px;
            border-bottom-right-radius: 24px;
            box-shadow: 0 2px 8px rgba(25, 118, 210, 0.08);
        }  
        main {
            max-width: 520px;
            margin: 2.5rem auto;
            background: #fffdfd;
            border-radius: 16px;
            box-shadow: 0 4px 16px rgba(25,118,210,0.10);
            padding: 2.5rem 2rem;
        }

        .back-link {
            margin-left: 16px;
            margin-right: 16px;
            background: #fff;
            color: #3a3f47;
            padding: 6px 14px;
            border-radius: 4px;
            text-decoration: none;
            font-weight: bold;
            border: 1px solid #3a3f47;
            font-size: 0.95em;
            transition: background 0.2s, color 0.2s;
        }
        .back-link:hover {
            background: #e3e3e3;
            color: #222;
        }
        h1 {
            margin: 0 0 0.5rem 0;
            font-size: 2rem;
            letter-spacing: 0.05em;
        }
        p {
            margin: 0 0 1.5rem 0;
            color: #e3f2fd;
            font-size: 1.05rem;
        }
        ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        li {
            margin-bottom: 1.2rem;
            display: flex;
            align-items: center;
            background: #f0f7fa;
            border-radius: 8px;
            padding: 0.7rem 1rem;
            transition: background 0.2s;
        }
        li:last-child {
            margin-bottom: 0;
        }
        label {
            display: flex;
            align-items: center;
            width: 100%;
            cursor: pointer;
            font-size: 1.08rem;
        }
        input[type="checkbox"] {
            appearance: none;
            width: 28px;
            height: 28px;
            border: 2px solid #1976d2;
            border-radius: 7px;
            margin-right: 1.2rem;
            background: #fff;
            transition: border 0.2s, box-shadow 0.2s;
            position: relative;
            outline: none;
            cursor: pointer;
        }
        input[type="checkbox"]:checked {
            background: #1976d2;
            border-color: #1976d2;
        }
        input[type="checkbox"]:checked::after {
            content: '';
            position: absolute;
            left: 7px;
            top: 3px;
            width: 8px;
            height: 15px;
            border-right: 3px solid #fff;
            border-bottom: 3px solid #fff;
            transform: rotate(40deg);
        }
        input[type="checkbox"]:focus {
            box-shadow: 0 0 0 3px #90caf9;
        }
        .checked {
            text-decoration: line-through;
            color: #90a4ae;
        }
        @media (max-width: 600px) {
            main { padding: 1.2rem 0.5rem; }
            h1 { font-size: 1.3rem; }
            li { padding: 0.6rem 0.5rem; }
            input[type="checkbox"] { width: 24px; height: 24px; margin-right: 0.8rem; }
        }
    </style>
</head>
<body>

<style>
@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}
.navbar-fade-in {
    animation: fadeIn 1.5s ease-in-out;
}
</style>

<style>
    #splash-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: #2d2d2d;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 10000;
      transition: opacity 1.5s ease-out;
    }
    .fade-out {
      opacity: 0;
      pointer-events: none;
    }
  </style>
  
  <div id="splash-screen">
    <h1 style="font-size: 3rem; font-weight: bold; color: #ffffff;">
      <img src="./img/bag.png" alt="Quake Guard Logo" style="width: 100px; height: 100px; display: block; margin: 0 auto; filter: brightness(0) invert(1); border-radius: 50%;">
      é˜²ç½ã‚°ãƒƒã‚ºãƒªã‚¹ãƒˆ<br>
      <span style="font-size: 1.5rem; color: #f7f7f7; display: block; text-align: center;">Energency Bag List</span>
    </h1>
  </div>
  
  <script>
    window.addEventListener('load', () => {
      const splash = document.getElementById('splash-screen');
      setTimeout(() => {
        splash.classList.add('fade-out');
        // Optionally remove the element after the fade-out completes
        setTimeout(() => splash.remove(), 1500);
      }, 1000);
    });
  </script>

    <div class="site-title-bar navbar-fade-in">
        <a href="./index.html" class="site-title" style="position: absolute; left: 0; right: 0; margin: auto; width: max-content; text-decoration: none; color: #fff;">
            Quake Guard
        </a>
        <p style="text-align: center; color: #fff; font-size: 1em; margin: 60px auto 0;">
            é˜²ç½ã‚°ãƒƒã‚ºãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ
        </p>
    </div>

    <main>
        <section>
            <h2 style="font-size:1.5em; color:#1976d2; margin-bottom:1rem;">ğŸ’é˜²ç½ã‚°ãƒƒã‚ºãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ</h2>
            <p style="font-size:1.1em; color:#555; margin-bottom:1.5rem;">
                åœ°éœ‡ã‚„ç½å®³ã«å‚™ãˆã¦ã€å¿…è¦ãªé˜²ç½ã‚°ãƒƒã‚ºã‚’ãƒã‚§ãƒƒã‚¯ã—ã¾ã—ã‚‡ã†ã€‚
            </p>
            <ul id="checklist" style="padding:0; list-style:none;">
            <li><label><input type="checkbox"> <span style="font-size:1.3em; margin-right:0.5em;">ğŸ’§</span>é£²æ–™æ°´ï¼ˆ1äºº1æ—¥3ãƒªãƒƒãƒˆãƒ«ç›®å®‰ï¼‰</label></li>
            <li><label><input type="checkbox"> <span style="font-size:1.3em; margin-right:0.5em;">ğŸ¥«</span>éå¸¸é£Ÿï¼ˆä¿å­˜é£Ÿã€ç¼¶è©°ã€ä¹¾ãƒ‘ãƒ³ãªã©ï¼‰</label></li>
            <li><label><input type="checkbox"> <span style="font-size:1.3em; margin-right:0.5em;">ğŸ”¦</span>æ‡ä¸­é›»ç¯ãƒ»äºˆå‚™é›»æ± </label></li>
            <li><label><input type="checkbox"> <span style="font-size:1.3em; margin-right:0.5em;">ğŸ“»</span>æºå¸¯ãƒ©ã‚¸ã‚ª</label></li>
            <li><label><input type="checkbox"> <span style="font-size:1.3em; margin-right:0.5em;">â›‘ï¸</span>æ•‘æ€¥ã‚»ãƒƒãƒˆ</label></li>
            <li><label><input type="checkbox"> <span style="font-size:1.3em; margin-right:0.5em;">ğŸ˜·</span>ãƒã‚¹ã‚¯ãƒ»æ¶ˆæ¯’æ¶²</label></li>
            <li><label><input type="checkbox"> <span style="font-size:1.3em; margin-right:0.5em;">ğŸ”‹</span>ãƒ¢ãƒã‚¤ãƒ«ãƒãƒƒãƒ†ãƒªãƒ¼</label></li>
            <li><label><input type="checkbox"> <span style="font-size:1.3em; margin-right:0.5em;">ğŸ’´</span>ç¾é‡‘ãƒ»èº«åˆ†è¨¼æ˜æ›¸</label></li>
            <li><label><input type="checkbox"> <span style="font-size:1.3em; margin-right:0.5em;">ğŸ‘•</span>è¡£é¡ãƒ»ã‚¿ã‚ªãƒ«</label></li>
            <li><label><input type="checkbox"> <span style="font-size:1.3em; margin-right:0.5em;">ğŸ§¥</span>é›¨å…·ãƒ»é˜²å¯’å…·</label></li>
            </ul>
            <script>
                // Add animation and color change when a checkbox is checked
                checklist.addEventListener('change', (event) => {
                    if (event.target.type === 'checkbox') {
                        const listItem = event.target.closest('li');
                        if (event.target.checked) {
                            listItem.style.transition = 'transform 0.2s ease, opacity 0.2s ease, background-color 0.2s ease';
                            listItem.style.transform = 'scale(1.05)';
                            listItem.style.opacity = '0.8';
                            listItem.style.backgroundColor = '#d1e7dd'; // Light green background
                            setTimeout(() => {
                                listItem.style.transform = 'scale(1)';
                                listItem.style.opacity = '1';
                            }, 200);
                        } else {
                            listItem.style.backgroundColor = '#f0f7fa'; // Reset to original background
                        }
                    }
                });
            </script>
            <form id="addItemForm" style="margin-top:1rem; display:flex; gap:0.5rem;">
            <input type="text" id="newItemText" placeholder="è¿½åŠ ã™ã‚‹ã‚¢ã‚¤ãƒ†ãƒ " style="flex:1; padding:0.5em; border:1px solid #ccc; border-radius:4px;">
            <button type="submit" style="padding:0.5em 1em; background:#1976d2; color:#fff; border:none; border-radius:4px; cursor:pointer;">è¿½åŠ </button>
            </form>
        </section>
        <script>
            const addItemForm = document.getElementById('addItemForm');
            const newItemText = document.getElementById('newItemText');
            const checklist = document.getElementById('checklist');

            // è¿½åŠ ã‚¢ã‚¤ãƒ†ãƒ ã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’è‡ªç”±ã«å…¥åŠ›ãƒ»ç·¨é›†ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ï¼ˆæ—¢å­˜ã‚¢ã‚¤ãƒ†ãƒ ã‚‚ç·¨é›†å¯èƒ½ã«ï¼‰
            checklist.addEventListener('click', function(e) {
                // ã‚¢ã‚¤ã‚³ãƒ³éƒ¨åˆ†ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸå ´åˆ
                if (
                    e.target.tagName === 'SPAN' &&
                    e.target.previousElementSibling &&
                    e.target.previousElementSibling.type === 'checkbox'
                ) {
                    // emojiå…¥åŠ›ç”¨ã®ãƒ†ã‚­ã‚¹ãƒˆãƒœãƒƒã‚¯ã‚¹ã‚’è¡¨ç¤º
                    const input = document.createElement('input');
                    input.type = 'text';
                    input.value = e.target.textContent;
                    input.maxLength = 2; // çµµæ–‡å­—1ã¤åˆ†
                    input.style.fontSize = '1.3em';
                    input.style.width = '2em';
                    input.style.position = 'absolute';
                    input.style.zIndex = 9999;
                    // ä½ç½®èª¿æ•´
                    const rect = e.target.getBoundingClientRect();
                    input.style.left = rect.left + window.scrollX + 'px';
                    input.style.top = rect.top + window.scrollY + 'px';
                    document.body.appendChild(input);
                    input.focus();
                    input.select();
                    input.addEventListener('blur', function() {
                        if (input.value.trim()) {
                            e.target.textContent = input.value.trim();
                        }
                        if (document.body.contains(input)) document.body.removeChild(input);
                    });
                    input.addEventListener('keydown', function(ev) {
                        if (ev.key === 'Enter') {
                            input.blur();
                        }
                    });
                }
            });

            // æ–°è¦è¿½åŠ æ™‚ã«emojiã‚’å…¥åŠ›ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹
            // emojiå…¥åŠ›æ¬„ã‚’è¿½åŠ 
            const emojiInput = document.createElement('input');
            emojiInput.type = 'text';
            emojiInput.id = 'emojiSelect';
            emojiInput.value = '';
            emojiInput.maxLength = 2;
            emojiInput.style.width = '2.5em';
            emojiInput.style.fontSize = '1.3em';
            emojiInput.style.marginRight = '0.5em';
            // æŒ¿å…¥
            addItemForm.insertBefore(emojiInput, newItemText);

            // submitæ™‚ã®å‡¦ç†ã‚’ä¿®æ­£
            addItemForm.onsubmit = function(e) {
                e.preventDefault();
                if (!newItemText.value.trim()) return;
                const emoji = emojiInput.value.trim() || '';
                const li = document.createElement('li');
                li.innerHTML = `<label><input type="checkbox"> <span style="font-size:1.3em; margin-right:0.5em;">${emoji}</span>${newItemText.value}</label>`;
                checklist.appendChild(li);
                newItemText.value = '';
                emojiInput.value = '';
            };
        </script>

        <section style="margin-top:2.5rem;">
            <h2 style="font-size:1.5em; color:#1976d2; margin-bottom:1rem;">æ©Ÿèƒ½ãƒ¡ãƒ‹ãƒ¥ãƒ¼</h2>
            <div style="display:flex; flex-wrap:wrap; gap:1rem;">
                <button onclick="showSection('photoMemoSection')" style="padding:0.5em 1em; background:#1976d2; color:#fff; border:none; border-radius:4px; cursor:pointer; display:flex; flex-direction:column; align-items:center;">
                    <span style="font-size:5em;">ğŸ“</span>
                    <span style="margin-top:0.3em;">åç´å ´æ‰€ãƒ¡ãƒ¢</span>
                </button>
                <button onclick="showSection('expireAlertSection')" style="padding:0.5em 1em; background:#1976d2; color:#fff; border:none; border-radius:4px; cursor:pointer; display:flex; flex-direction:column; align-items:center;">
                    <span style="font-size:5em;">â°</span>
                    <span style="margin-top:0.5em;">è³å‘³æœŸé™ã‚¢ãƒ©ãƒ¼ãƒˆ</span>
                </button>
                <button onclick="showSection('familyInfoSection')" style="padding:0.5em 1em; background:#1976d2; color:#fff; border:none; border-radius:4px; cursor:pointer; display:flex; flex-direction:column; align-items:center;">
                    <span style="font-size:5em;">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦</span>
                    <span style="margin-top:0.3em;">å®¶æ—ãƒ»ãƒšãƒƒãƒˆæƒ…å ±</span>
                </button>
            </div>
        </section>

        <section id="photoMemoSection" style="margin-top:2.5rem; display:none; background:#f9f9f9; padding:1rem; border-radius:8px; box-shadow:0 2px 8px rgba(0,0,0,0.1);">
            <button onclick="document.getElementById('photoMemoSection').style.display='none'" style="float:right; background:none; border:none; font-size:1.2em; cursor:pointer;">âœ–</button>
            <h2 style="font-size:1.5em; color:#1976d2; margin-bottom:1rem;">ğŸ“åç´å ´æ‰€ãƒ¡ãƒ¢ï¼ˆå†™çœŸï¼‹ãƒ¡ãƒ¢ï¼‰</h2>
            <form id="photoMemoForm" style="display:flex; flex-wrap:wrap; gap:0.5rem; margin-bottom:1.2em;">
            <input type="file" id="photoInput" accept="image/*" style="flex:1; min-width:500px; padding:5em;">
            <input type="text" id="memoInput" placeholder="ä¾‹: éå¸¸é£Ÿã¯æŠ¼å…¥ã‚Œã®ä¸‹æ®µ" style="flex:2; min-width:200px; padding:0.3em;">
            <button type="submit" style="padding:0.3em 1em; background:#1976d2; color:#fff; border:none; border-radius:4px; cursor:pointer;">è¿½åŠ </button>
            </form>
            <div id="photoMemoList" style="display:flex; flex-direction:column; gap:1rem;"></div>
        </section>

        <section id="expireAlertSection" style="margin-top:2.5rem; display:none; background:#f9f9f9; padding:1rem; border-radius:8px; box-shadow:0 2px 8px rgba(0,0,0,0.1);">
            <button onclick="document.getElementById('expireAlertSection').style.display='none'" style="float:right; background:none; border:none; font-size:1.2em; cursor:pointer;">âœ–</button>
            <h2 style="font-size:1.5em; color:#1976d2; margin-bottom:1rem;">â°è³å‘³æœŸé™ï¼ä½¿ç”¨æœŸé™ã‚¢ãƒ©ãƒ¼ãƒˆ</h2>
            <form id="expireForm" style="display:flex; flex-wrap:wrap; gap:0.5rem; margin-bottom:1.2em;">
            <input type="text" id="itemName" placeholder="ä¾‹: éå¸¸é£Ÿ" style="flex:1; min-width:150px; padding:0.3em;">
            <input type="date" id="expireDate" style="flex:1; min-width:150px; padding:0.3em;">
            <button type="submit" style="padding:0.3em 1em; background:#1976d2; color:#fff; border:none; border-radius:4px; cursor:pointer;">ç™»éŒ²</button>
            </form>
            <div id="expireList" style="display:flex; flex-direction:column; gap:1rem;"></div>
        </section>

        <section id="familyInfoSection" style="margin-top:2.5rem; display:none; background:#f9f9f9; padding:1rem; border-radius:8px; box-shadow:0 2px 8px rgba(0,0,0,0.1);">
            <button onclick="document.getElementById('familyInfoSection').style.display='none'" style="float:right; background:none; border:none; font-size:1.2em; cursor:pointer;">âœ–</button>
            <h2 style="font-size:1.5em; color:#1976d2; margin-bottom:1rem;">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦å®¶æ—ãƒ»ãƒšãƒƒãƒˆã®æƒ…å ±ç™»éŒ²</h2>
            <form id="familyInfoForm" style="display:flex; flex-direction:column; gap:0.5rem; margin-bottom:1.2em;">
            <input type="text" id="familyName" placeholder="åå‰ï¼ˆä¾‹: å±±ç”° å¤ªéƒï¼‰" style="padding:0.3em;">
            <input type="text" id="bloodType" placeholder="è¡€æ¶²å‹ï¼ˆä¾‹: Aå‹ï¼‰" style="padding:0.3em;">
            <input type="text" id="medications" placeholder="å¸¸å‚™è–¬ï¼ˆä¾‹: ã‚¢ãƒ¬ãƒ«ã‚®ãƒ¼è–¬ï¼‰" style="padding:0.3em;">
            <input type="text" id="allergies" placeholder="ã‚¢ãƒ¬ãƒ«ã‚®ãƒ¼ï¼ˆä¾‹: ãƒ”ãƒ¼ãƒŠãƒƒãƒ„ï¼‰" style="padding:0.3em;">
            <input type="text" id="petInfo" placeholder="ãƒšãƒƒãƒˆæƒ…å ±ï¼ˆä¾‹: çŠ¬ã€é¤Œã‚¹ãƒˆãƒƒã‚¯3æ—¥åˆ†ï¼‰" style="padding:0.3em;">
            <button type="submit" style="padding:0.3em 1em; background:#1976d2; color:#fff; border:none; border-radius:4px; cursor:pointer;">ç™»éŒ²</button>
            </form>
            <div id="familyInfoList" style="display:flex; flex-direction:column; gap:1rem;"></div>
        </section>

        <script>
            function showSection(sectionId) {
            document.querySelectorAll('section[id$="Section"]').forEach(section => {
                section.style.display = 'none';
            });
            document.getElementById(sectionId).style.display = 'block';
            }
        </script>

        <script>
            const familyInfoForm = document.getElementById('familyInfoForm');
            const familyName = document.getElementById('familyName');
            const bloodType = document.getElementById('bloodType');
            const medications = document.getElementById('medications');
            const allergies = document.getElementById('allergies');
            const petInfo = document.getElementById('petInfo');
            const familyInfoList = document.getElementById('familyInfoList');
            let familyInfos = JSON.parse(localStorage.getItem('familyInfos') || '[]');

            function renderFamilyInfos() {
                familyInfoList.innerHTML = '';
                familyInfos.forEach((info, i) => {
                    const div = document.createElement('div');
                    div.style.marginBottom = '1em';
                    div.innerHTML = `
                        <strong>${info.name}</strong><br>
                        è¡€æ¶²å‹: ${info.bloodType}<br>
                        å¸¸å‚™è–¬: ${info.medications}<br>
                        ã‚¢ãƒ¬ãƒ«ã‚®ãƒ¼: ${info.allergies}<br>
                        ãƒšãƒƒãƒˆæƒ…å ±: ${info.petInfo}<br>
                        <button style="margin-top:0.5em;" onclick="removeFamilyInfo(${i})">å‰Šé™¤</button>
                    `;
                    familyInfoList.appendChild(div);
                });
            }

            window.removeFamilyInfo = function(i) {
                familyInfos.splice(i, 1);
                localStorage.setItem('familyInfos', JSON.stringify(familyInfos));
                renderFamilyInfos();
            };

            familyInfoForm.onsubmit = function(e) {
                e.preventDefault();
                if (!familyName.value) return;
                familyInfos.push({
                    name: familyName.value,
                    bloodType: bloodType.value,
                    medications: medications.value,
                    allergies: allergies.value,
                    petInfo: petInfo.value
                });
                localStorage.setItem('familyInfos', JSON.stringify(familyInfos));
                renderFamilyInfos();
                familyName.value = '';
                bloodType.value = '';
                medications.value = '';
                allergies.value = '';
                petInfo.value = '';
            };

            renderFamilyInfos();
        </script>
    </main>


    <script>
        // ãƒã‚§ãƒƒã‚¯çŠ¶æ…‹ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¿å­˜
        const checkboxes = checklist.querySelectorAll('input[type="checkbox"]');
        // ä¿å­˜ã•ã‚ŒãŸçŠ¶æ…‹ã‚’å¾©å…ƒ
        checkboxes.forEach((cb, i) => {
            const checked = localStorage.getItem('item' + i) === 'true';
            cb.checked = checked;
            if (checked) cb.parentElement.classList.add('checked');
            cb.addEventListener('change', () => {
                localStorage.setItem('item' + i, cb.checked);
                cb.parentElement.classList.toggle('checked', cb.checked);

                // ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ 
                if (cb.checked) {
                    cb.parentElement.style.transition = 'transform 0.2s ease, opacity 0.2s ease';
                    cb.parentElement.style.transform = 'scale(1.05)';
                    cb.parentElement.style.opacity = '0.8';
                    setTimeout(() => {
                        cb.parentElement.style.transform = 'scale(1)';
                        cb.parentElement.style.opacity = '1';
                    }, 200);
                }
            });
        });
        const photoMemoForm = document.getElementById('photoMemoForm');
    const photoInput = document.getElementById('photoInput');
    const memoInput = document.getElementById('memoInput');
    const photoMemoList = document.getElementById('photoMemoList');
    let photoMemos = JSON.parse(localStorage.getItem('photoMemos') || '[]');
    function renderPhotoMemos() {
        photoMemoList.innerHTML = '';
        photoMemos.forEach((m, i) => {
            const div = document.createElement('div');
            div.style.marginBottom = '1em';
            div.innerHTML = `<img src="${m.img}" style="width:60px;height:60px;object-fit:cover;border-radius:8px;margin-right:0.7em;vertical-align:middle;">
                <span>${m.memo}</span>
                <button style="margin-left:1em;" onclick="removePhotoMemo(${i})">å‰Šé™¤</button>`;
            photoMemoList.appendChild(div);
        });
    }
    window.removePhotoMemo = function(i) {
        photoMemos.splice(i,1);
        localStorage.setItem('photoMemos', JSON.stringify(photoMemos));
        renderPhotoMemos();
    }
    photoMemoForm.onsubmit = function(e) {
        e.preventDefault();
        const file = photoInput.files[0];
        if (!file) return;
        const reader = new FileReader();
        reader.onload = function(ev) {
            photoMemos.push({img: ev.target.result, memo: memoInput.value});
            localStorage.setItem('photoMemos', JSON.stringify(photoMemos));
            renderPhotoMemos();
            photoInput.value = '';
            memoInput.value = '';
        };
        reader.readAsDataURL(file);
    };
    renderPhotoMemos();

    // è³å‘³æœŸé™ã‚¢ãƒ©ãƒ¼ãƒˆæ©Ÿèƒ½
    const expireForm = document.getElementById('expireForm');
    const itemName = document.getElementById('itemName');
    const expireDate = document.getElementById('expireDate');
    const expireList = document.getElementById('expireList');
    let expireItems = JSON.parse(localStorage.getItem('expireItems') || '[]');
    function renderExpireItems() {
        expireList.innerHTML = '';
        const today = new Date();
        expireItems.forEach((item, i) => {
            const d = new Date(item.date);
            const diff = Math.ceil((d - today) / (1000*60*60*24));
            let alertMsg = '';
            if (diff <= 7 && diff >= 0) alertMsg = `<span style="color:red;">ï¼ˆã¾ã‚‚ãªãæœŸé™ï¼‰</span>`;
            if (diff < 0) alertMsg = `<span style="color:gray;">ï¼ˆæœŸé™åˆ‡ã‚Œï¼‰</span>`;
            const div = document.createElement('div');
            div.innerHTML = `${item.name}ï¼š${item.date} ${alertMsg} <button onclick="removeExpireItem(${i})">å‰Šé™¤</button>`;
            expireList.appendChild(div);
        });
    }
    window.removeExpireItem = function(i) {
        expireItems.splice(i,1);
        localStorage.setItem('expireItems', JSON.stringify(expireItems));
        renderExpireItems();
    }
    expireForm.onsubmit = function(e) {
        e.preventDefault();
        if (!itemName.value || !expireDate.value) return;
        expireItems.push({name: itemName.value, date: expireDate.value});
        localStorage.setItem('expireItems', JSON.stringify(expireItems));
        renderExpireItems();
        itemName.value = '';
        expireDate.value = '';
    };
    renderExpireItems();
        
    </script>

        <footer style="background: linear-gradient(135deg, #3a3f47, #2e3238); padding: 24px 0; text-align: center; color: #fff; margin-top: 24px; box-shadow: 0 4px 12px rgba(0,0,0,0.2);">
        <div style="max-width: 960px; margin: 0 auto; padding: 0 16px;">
            <nav style="display: flex; flex-wrap: wrap; justify-content: center; margin-bottom: 12px; font-family: 'Segoe UI', 'Meiryo', sans-serif;">
                <a href="./index.html" style="display: flex; align-items: center; justify-content: center; flex: 1 1 200px; padding: 12px 20px; margin: 8px; background: #d21922; border-radius: 4px; color: #fff; text-decoration: none; transition: background 0.3s, transform 0.1s;"
                   onmouseover="this.style.background='#1565c0';" onmouseout="this.style.background='#1976d2';" 
                   onmousedown="this.style.transform='scale(0.97)';" onmouseup="this.style.transform='scale(1)';">
                    <span style="display: inline-block; width: 32px; height: 32px; line-height: 32px; border-radius: 50%; background: #fff; color: #91d219; text-align: center; margin-right: 8px;">
                        ğŸ—º
                    </span>
                    <span>é˜²ç½ãƒãƒƒãƒ—</span>
                </a>
                <a href="./phone.html" style="display: flex; align-items: center; justify-content: center; flex: 1 1 200px; padding: 12px 20px; margin: 8px; background: #d29819; border-radius: 4px; color: #fff; text-decoration: none; transition: background 0.3s, transform 0.1s;"
                   onmouseover="this.style.background='#1565c0';" onmouseout="this.style.background='#1976d2';" 
                   onmousedown="this.style.transform='scale(0.97)';" onmouseup="this.style.transform='scale(1)';">
                    <span style="display: inline-block; width: 32px; height: 32px; line-height: 32px; border-radius: 50%; background: #fff; color: #1976d2; text-align: center; margin-right: 8px;">
                        ğŸ“
                    </span>
                    <span>é€£çµ¡å…ˆ</span>
                </a>
                <a href="./list.html" style="display: flex; align-items: center; justify-content: center; flex: 1 1 200px; padding: 12px 20px; margin: 8px; background: #72d219; border-radius: 4px; color: #fff; text-decoration: none; transition: background 0.3s, transform 0.1s;"
                   onmouseover="this.style.background='#1565c0';" onmouseout="this.style.background='#1976d2';" 
                   onmousedown="this.style.transform='scale(0.97)';" onmouseup="this.style.transform='scale(1)';">
                    <span style="display: inline-block; width: 32px; height: 32px; line-height: 32px; border-radius: 50%; background: #fff; color: #1976d2; text-align: center; margin-right: 8px;">
                        ğŸ’
                    </span>
                    <span>é˜²ç½ã‚°ãƒƒã‚º</span>
                </a>
            </nav>
            <p style="font-size: 0.85em; margin: 8px 0;">Â© 2025 Reitaku Quake Guard. All Rights Reserved.</p>
            <p style="font-size: 0.75em;">
                <a href="#" style="color: #fff; text-decoration: none; margin: 0 10px; transition: color 0.3s;">åˆ©ç”¨è¦ç´„</a>
                |
                <a href="#" style="color: #fff; text-decoration: none; margin: 0 10px; transition: color 0.3s;">ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼</a>
            </p>
        </div>
        <script>
            // Adding simple hover effects via JavaScript since inline styles can't handle :hover
            document.querySelectorAll("footer a").forEach(function(link) {
                link.addEventListener("mouseover", function() {
                    this.style.color = "#90caf9";
                });
                link.addEventListener("mouseout", function() {
                    this.style.color = "#fff";
                });
            });
        </script>
</body>
</html>